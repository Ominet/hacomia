"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/generate";
exports.ids = ["pages/api/generate"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "node-fetch":
/*!*****************************!*\
  !*** external "node-fetch" ***!
  \*****************************/
/***/ ((module) => {

module.exports = import("node-fetch");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fgenerate&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cgenerate.js&middlewareConfigBase64=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fgenerate&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cgenerate.js&middlewareConfigBase64=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_generate_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\generate.js */ \"(api)/./pages/api/generate.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_generate_js__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_generate_js__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_generate_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_generate_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/generate\",\n        pathname: \"/api/generate\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_generate_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmdlbmVyYXRlJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlNUNhcGklNUNnZW5lcmF0ZS5qcyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUNzRDtBQUN0RDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsbURBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLG1EQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCxxQyIsInNvdXJjZXMiOlsid2VicGFjazovL2hhY29taWEvPzE2M2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzXFxcXGFwaVxcXFxnZW5lcmF0ZS5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2dlbmVyYXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZ2VuZXJhdGVcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fgenerate&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cgenerate.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/generate.js":
/*!*******************************!*\
  !*** ./pages/api/generate.js ***!
  \*******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var node_fetch__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! node-fetch */ \"node-fetch\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([node_fetch__WEBPACK_IMPORTED_MODULE_0__]);\nnode_fetch__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nasync function handler(req, res) {\n    if (req.method !== \"POST\") return res.status(405).json({\n        error: \"Method not allowed\"\n    });\n    const { name, imageUrl, tone } = req.body;\n    if (!name) return res.status(400).json({\n        error: \"Missing product name\"\n    });\n    try {\n        const prompt = buildPrompt({\n            name,\n            imageUrl,\n            tone\n        });\n        const openaiRes = await (0,node_fetch__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(process.env.OPENAI_API_BASE_URL ? `${process.env.OPENAI_API_BASE_URL}/chat/completions` : \"https://api.openai.com/v1/chat/completions\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": `Bearer ${process.env.OPENAI_API_KEY}`\n            },\n            body: JSON.stringify({\n                model: \"gpt-4o-mini\",\n                messages: [\n                    {\n                        role: \"system\",\n                        content: \"Tu es un assistant expert en marketing e-commerce. G\\xe9n\\xe8re une fiche produit optimis\\xe9e SEO en fran\\xe7ais.\"\n                    },\n                    {\n                        role: \"user\",\n                        content: prompt\n                    }\n                ],\n                max_tokens: 700,\n                temperature: 0.6\n            })\n        });\n        const data = await openaiRes.json();\n        if (!openaiRes.ok) {\n            console.error(\"OpenAI error\", data);\n            return res.status(500).json({\n                error: data.error?.message || \"OpenAI API error\"\n            });\n        }\n        const text = data.choices?.[0]?.message?.content || data.choices?.[0]?.text || \"\";\n        // Parse expected JSON block if present\n        const parsed = parseResponseText(text);\n        return res.status(200).json(parsed);\n    } catch (err) {\n        console.error(err);\n        return res.status(500).json({\n            error: err.message\n        });\n    }\n}\nfunction buildPrompt({ name, imageUrl, tone }) {\n    return `Génère POUR UN PRODUIT EN FRANÇAIS une sortie JSON uniquement (sans explication) avec les champs:\\n- title (court, 5-10 mots),\\n- meta (160 caractères max),\\n- keywords (liste de 5 mots-clés),\\n- description (3 paragraphes; premier paragraphe accroche, deuxième technique, troisième call-to-action).\\n\\nDonnées produit:\\nNom: ${name}\\nImage: ${imageUrl || \"aucune\"}\\nTonalité: ${tone}\\n\\nRéponds uniquement par un bloc JSON valide.`;\n}\nfunction parseResponseText(text) {\n    // Essaye d'extraire le JSON d'un block dans le texte\n    try {\n        const start = text.indexOf(\"{\");\n        const end = text.lastIndexOf(\"}\");\n        if (start !== -1 && end !== -1) {\n            const jsonText = text.slice(start, end + 1);\n            const obj = JSON.parse(jsonText);\n            return {\n                title: obj.title || \"\",\n                meta: obj.meta || \"\",\n                keywords: obj.keywords || [],\n                description: obj.description || \"\"\n            };\n        }\n    } catch (e) {\n        console.warn(\"Failed parse JSON, fallback to raw text\");\n    }\n    // Fallback: return raw text in description\n    return {\n        title: nameSafe(text),\n        meta: \"\",\n        keywords: [],\n        description: text\n    };\n}\nfunction nameSafe(t) {\n    return (t || \"\").slice(0, 60);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O2dCQUM1QkMsYUFBYUwsSUFBSUssV0FBVyxJQUFJO1lBQ2xDO1FBQ0Y7SUFDRixFQUFFLE9BQU9DLEdBQUc7UUFDVm5CLFFBQVFvQixJQUFJLENBQUM7SUFDZjtJQUNBLDJDQUEyQztJQUMzQyxPQUFPO1FBQUVMLE9BQU9NLFNBQVNuQjtRQUFPYyxNQUFNO1FBQUlDLFVBQVUsRUFBRTtRQUFFQyxhQUFhaEI7SUFBSztBQUM1RTtBQUVBLFNBQVNtQixTQUFTQyxDQUFDO0lBQUksT0FBTyxDQUFDQSxLQUFLLEVBQUMsRUFBR1YsS0FBSyxDQUFDLEdBQUc7QUFBSyIsInNvdXJjZXMiOlsid2VicGFjazovL2hhY29taWEvLi9wYWdlcy9hcGkvZ2VuZXJhdGUuanM/NjI3YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZmV0Y2ggZnJvbSAnbm9kZS1mZXRjaCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XHJcbiAgaWYgKHJlcS5tZXRob2QgIT09ICdQT1NUJykgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgZXJyb3I6ICdNZXRob2Qgbm90IGFsbG93ZWQnIH0pO1xyXG4gIGNvbnN0IHsgbmFtZSwgaW1hZ2VVcmwsIHRvbmUgfSA9IHJlcS5ib2R5O1xyXG4gIGlmICghbmFtZSkgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdNaXNzaW5nIHByb2R1Y3QgbmFtZScgfSk7XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBwcm9tcHQgPSBidWlsZFByb21wdCh7IG5hbWUsIGltYWdlVXJsLCB0b25lIH0pO1xyXG5cclxuICAgIGNvbnN0IG9wZW5haVJlcyA9IGF3YWl0IGZldGNoKHByb2Nlc3MuZW52Lk9QRU5BSV9BUElfQkFTRV9VUkwgPyBgJHtwcm9jZXNzLmVudi5PUEVOQUlfQVBJX0JBU0VfVVJMfS9jaGF0L2NvbXBsZXRpb25zYCA6ICdodHRwczovL2FwaS5vcGVuYWkuY29tL3YxL2NoYXQvY29tcGxldGlvbnMnLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHtwcm9jZXNzLmVudi5PUEVOQUlfQVBJX0tFWX1gXHJcbiAgICAgIH0sXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBtb2RlbDogJ2dwdC00by1taW5pJyxcclxuICAgICAgICBtZXNzYWdlczogW1xyXG4gICAgICAgICAgeyByb2xlOiAnc3lzdGVtJywgY29udGVudDogJ1R1IGVzIHVuIGFzc2lzdGFudCBleHBlcnQgZW4gbWFya2V0aW5nIGUtY29tbWVyY2UuIEfDqW7DqHJlIHVuZSBmaWNoZSBwcm9kdWl0IG9wdGltaXPDqWUgU0VPIGVuIGZyYW7Dp2Fpcy4nIH0sXHJcbiAgICAgICAgICB7IHJvbGU6ICd1c2VyJywgY29udGVudDogcHJvbXB0IH1cclxuICAgICAgICBdLFxyXG4gICAgICAgIG1heF90b2tlbnM6IDcwMCxcclxuICAgICAgICB0ZW1wZXJhdHVyZTogMC42XHJcbiAgICAgIH0pXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgb3BlbmFpUmVzLmpzb24oKTtcclxuICAgIGlmICghb3BlbmFpUmVzLm9rKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ09wZW5BSSBlcnJvcicsIGRhdGEpO1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogZGF0YS5lcnJvcj8ubWVzc2FnZSB8fCAnT3BlbkFJIEFQSSBlcnJvcicgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdGV4dCA9IGRhdGEuY2hvaWNlcz8uWzBdPy5tZXNzYWdlPy5jb250ZW50IHx8IGRhdGEuY2hvaWNlcz8uWzBdPy50ZXh0IHx8ICcnO1xyXG4gICAgLy8gUGFyc2UgZXhwZWN0ZWQgSlNPTiBibG9jayBpZiBwcmVzZW50XHJcbiAgICBjb25zdCBwYXJzZWQgPSBwYXJzZVJlc3BvbnNlVGV4dCh0ZXh0KTtcclxuXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24ocGFyc2VkKTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBlcnIubWVzc2FnZSB9KTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGJ1aWxkUHJvbXB0KHsgbmFtZSwgaW1hZ2VVcmwsIHRvbmUgfSkge1xyXG4gIHJldHVybiBgR8OpbsOocmUgUE9VUiBVTiBQUk9EVUlUIEVOIEZSQU7Dh0FJUyB1bmUgc29ydGllIEpTT04gdW5pcXVlbWVudCAoc2FucyBleHBsaWNhdGlvbikgYXZlYyBsZXMgY2hhbXBzOlxcbi0gdGl0bGUgKGNvdXJ0LCA1LTEwIG1vdHMpLFxcbi0gbWV0YSAoMTYwIGNhcmFjdMOocmVzIG1heCksXFxuLSBrZXl3b3JkcyAobGlzdGUgZGUgNSBtb3RzLWNsw6lzKSxcXG4tIGRlc2NyaXB0aW9uICgzIHBhcmFncmFwaGVzOyBwcmVtaWVyIHBhcmFncmFwaGUgYWNjcm9jaGUsIGRldXhpw6htZSB0ZWNobmlxdWUsIHRyb2lzacOobWUgY2FsbC10by1hY3Rpb24pLlxcblxcbkRvbm7DqWVzIHByb2R1aXQ6XFxuTm9tOiAke25hbWV9XFxuSW1hZ2U6ICR7aW1hZ2VVcmwgfHwgJ2F1Y3VuZSd9XFxuVG9uYWxpdMOpOiAke3RvbmV9XFxuXFxuUsOpcG9uZHMgdW5pcXVlbWVudCBwYXIgdW4gYmxvYyBKU09OIHZhbGlkZS5gO1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYXJzZVJlc3BvbnNlVGV4dCh0ZXh0KSB7XHJcbiAgLy8gRXNzYXllIGQnZXh0cmFpcmUgbGUgSlNPTiBkJ3VuIGJsb2NrIGRhbnMgbGUgdGV4dGVcclxuICB0cnkge1xyXG4gICAgY29uc3Qgc3RhcnQgPSB0ZXh0LmluZGV4T2YoJ3snKTtcclxuICAgIGNvbnN0IGVuZCA9IHRleHQubGFzdEluZGV4T2YoJ30nKTtcclxuICAgIGlmIChzdGFydCAhPT0gLTEgJiYgZW5kICE9PSAtMSkge1xyXG4gICAgICBjb25zdCBqc29uVGV4dCA9IHRleHQuc2xpY2Uoc3RhcnQsIGVuZCArIDEpO1xyXG4gICAgICBjb25zdCBvYmogPSBKU09OLnBhcnNlKGpzb25UZXh0KTtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB0aXRsZTogb2JqLnRpdGxlIHx8ICcnLFxyXG4gICAgICAgIG1ldGE6IG9iai5tZXRhIHx8ICcnLFxyXG4gICAgICAgIGtleXdvcmRzOiBvYmoua2V5d29yZHMgfHwgW10sXHJcbiAgICAgICAgZGVzY3JpcHRpb246IG9iai5kZXNjcmlwdGlvbiB8fCAnJ1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIGNvbnNvbGUud2FybignRmFpbGVkIHBhcnNlIEpTT04sIGZhbGxiYWNrIHRvIHJhdyB0ZXh0Jyk7XHJcbiAgfVxyXG4gIC8vIEZhbGxiYWNrOiByZXR1cm4gcmF3IHRleHQgaW4gZGVzY3JpcHRpb25cclxuICByZXR1cm4geyB0aXRsZTogbmFtZVNhZmUodGV4dCksIG1ldGE6ICcnLCBrZXl3b3JkczogW10sIGRlc2NyaXB0aW9uOiB0ZXh0IH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG5hbWVTYWZlKHQpIHsgcmV0dXJuICh0IHx8ICcnKS5zbGljZSgwLCA2MCk7IH0iXSwibmFtZXMiOlsiZmV0Y2giLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwibmFtZSIsImltYWdlVXJsIiwidG9uZSIsImJvZHkiLCJwcm9tcHQiLCJidWlsZFByb21wdCIsIm9wZW5haVJlcyIsInByb2Nlc3MiLCJlbnYiLCJPUEVOQUlfQVBJX0JBU0VfVVJMIiwiaGVhZGVycyIsIk9QRU5BSV9BUElfS0VZIiwiSlNPTiIsInN0cmluZ2lmeSIsIm1vZGVsIiwibWVzc2FnZXMiLCJyb2xlIiwiY29udGVudCIsIm1heF90b2tlbnMiLCJ0ZW1wZXJhdHVyZSIsImRhdGEiLCJvayIsImNvbnNvbGUiLCJtZXNzYWdlIiwidGV4dCIsImNob2ljZXMiLCJwYXJzZWQiLCJwYXJzZVJlc3BvbnNlVGV4dCIsImVyciIsInN0YXJ0IiwiaW5kZXhPZiIsImVuZCIsImxhc3RJbmRleE9mIiwianNvblRleHQiLCJzbGljZSIsIm9iaiIsInBhcnNlIiwidGl0bGUiLCJtZXRhIiwia2V5d29yZHMiLCJkZXNjcmlwdGlvbiIsImUiLCJ3YXJuIiwibmFtZVNhZmUiLCJ0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/generate.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fgenerate&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cgenerate.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();